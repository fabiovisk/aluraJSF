package br.com.caelum.livraria.bean;

import java.util.ArrayList;
import java.util.Random;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;

import org.primefaces.model.chart.BarChartModel;
import org.primefaces.model.chart.ChartSeries;

import antlr.collections.List;
import br.com.caelum.livraria.dao.DAO;
import br.com.caelum.livraria.modelo.Livro;
import br.com.caelum.livraria.modelo.Venda;

@ManagedBean
@ViewScoped
public class VendasBean {

	   public List<Venda> getVendas(long seed) {
		   
		   List<Livro> livros = new DAO<Livro>(Livro.class).listaTodos();
	       List<Venda> vendas = new ArrayList<Venda>();

	       Random random = new Random(seed);
	       
		for (Livro livro : livros) {
	           Integer quantidade = random.nextInt(500);
	           vendas.add(new Venda(livro, quantidade));
	       }

	       return vendas;
	   }
	   
	   public BarChartModel getVendasModel() {

		    BarChartModel model = new BarChartModel();

		    ChartSeries boys = new ChartSeries();
		    boys.setLabel("Boys");
		    boys.set("2004", 120);
		    boys.set("2005", 100);
		    boys.set("2006", 44);
		    boys.set("2007", 150);
		    boys.set("2008", 25);

		   
		    model.addSeries(boys);
		  
		    return model;
		}

}